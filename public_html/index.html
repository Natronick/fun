<!DOCTYPE html>
<html>
    <head>
        <title>Bits and pieces</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script type="text/javascript" >//src="cutInPieces.js"
            function cutInPieces() {
                var text = document.getElementById("email").value;
                //console.log(text);
                var bitsAndPieces = new Array();
                var msgSize = 150;
                while (text) {
                    if (text.length < msgSize) {
                        bitsAndPieces.push(text);
                        //console.log(bitsAndPieces);
                        break;
                    }
                    else {
                        bitsAndPieces.push(text.substr(0, msgSize));
                        text = text.substr(msgSize);
                        //console.log(bitsAndPieces);
                    }
                }
                var output = document.getElementById("output");
                for (var i = 0; i < bitsAndPieces.length; i += 1) {
                    //bitsAndPieces.push(bitsAndPieces[i]);
                    var div = document.createElement('div class="msg"');
                    div.innerHTML = (bitsAndPieces[i]);
                    output.appendChild(div);
                }
            }
        </script>
        <style type="text/css">
            .msg {
                background-color: #3333ff;
                border-radius: 5px;
                color: #ffffff;
                width: 300px;
                font-family: sans-serif;
            }
        </style>
    </head>
    <body>
        <form action="javascript:cutInPieces();">
            <textarea id="email" name="email" rows="20" cols="100"></textarea>
            <br>
            <input type="submit" value="cut in pieces">
        </form>
        <div id="output">
        </div>
    </body>
</html>
